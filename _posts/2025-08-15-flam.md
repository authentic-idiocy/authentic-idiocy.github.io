---
layout: post
title: "FLAM!"
date: 2025-08-12 00:00:00 +0000
categories: [finance-shit]
description: "Jitterbug."
---
<div class="flashcard">
  <details>
    <summary>I Fought the Law and the Law Won</summary>
    <div class="back">
      <div id="fig-6-1" style="width:900px;height:520px;"></div>
        <div id="fig-6-1-info" style="font-size:0.9em; opacity:0.95; margin-top:8px;"></div>
        
        <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
        <script>
          function renderFig61() {
            // ===== Figure 6.1 — iso-IR frontiers: BR = (IR/IC)^2 =====
            const curves = [
              { ir: 0.25, name: "IR = 0.25", dash: "solid" },
              { ir: 0.50, name: "IR = 0.50", dash: "dash"  },
            ];
        
            // Grid and bounds (match the page look)
            const icMin = 0.01, icMax = 0.16, N = 900, brMax = 450;
            const icGrid = Array.from({length: N}, (_, i) => icMin + i*(icMax - icMin)/(N - 1));
        
            const traces = curves.map(c => {
              const br = icGrid.map(ic => {
                const v = (c.ir/ic) ** 2;
                return (v <= brMax) ? v : null; // clip to figure bounds
              });
              return {
                x: icGrid,
                y: br,
                mode: "lines",
                name: c.name,
                line: { width: 3, dash: c.dash },
                hovertemplate: "IC=%{x:.3f}<br>BR=%{y:.1f}<extra></extra>"
              };
            });
        
            // Label the two curves inside the axes, like the print figure
            const ann = [
              { x: 0.040, y: (0.25/0.040)**2, text: "IR = 0.25", showarrow: false, xanchor: "left", yanchor: "bottom" },
              { x: 0.030, y: (0.50/0.030)**2, text: "IR = 0.50", showarrow: false, xanchor: "left", yanchor: "bottom" }
            ];
        
            const layout = {
              title: {text: "Breadth (BR) vs. Skill (IC) at Fixed IR", x: 0.5, xanchor: "center"},
              xaxis: {
                title: "Skill (IC)",
                range: [0, 0.16],
                dtick: 0.02,
                zeroline: false
              },
              yaxis: {
                title: "Breadth (BR)",
                range: [0, brMax],
                dtick: 50,
                zeroline: false
              },
              template: "plotly_white",
              legend: {orientation: "h", y: 1.12},
              margin: {l: 70, r: 30, t: 60, b: 55},
              annotations: ann
            };
        
            Plotly.newPlot("fig-6-1", traces, layout, {displayModeBar: true, responsive: true});
        
            // ===== Info / intuition (below the plot) =====
            document.getElementById("fig-6-1-info").innerHTML = `
              <p>
                Curves are <em>iso-IR frontiers</em> generated by the fundamental law
                \\(\\mathrm{IR} = \\mathrm{IC}\\,\\sqrt{\\mathrm{BR}}\\).
                Holding IR fixed gives \\(\\mathrm{BR} = (\\mathrm{IR}/\\mathrm{IC})^2\\).
              </p>
              <ul style="margin-top:6px;">
                <li><strong>Trade-off:</strong> higher skill (IC) reduces the required independent breadth (BR) <em>quadratically</em>;
                    e.g., doubling IC quarters the BR needed to keep the same IR.</li>
                <li><strong>Independence matters:</strong> BR counts only <em>independent</em> bets; correlated bets do not move you up the frontier.</li>
                <li><strong>Interpretation of shapes:</strong> the steep left tail shows that if IC is tiny, required BR explodes; moving right (better IC)
                    lets you achieve the same IR with far fewer independent bets.</li>
                <li><strong>Manager archetypes:</strong> a generalist (large BR, smaller IC) and a specialist (small BR, larger IC) can sit on the same curve,
                    yet demand very different research/implementation effort.</li>
              </ul>
            `;
          }
        
          // Render immediately
          renderFig61();
        </script>

      <details class="dropdown-block">
        <summary>Set-up</summary>
        <div class="content">
          <p>The <b>information ratio</b> (IR) measures a manager's opportunities. If those opportunities are exploited in a mean-variance-efficient way, the value added is proportional to IR. A simple, broadly applicable relation—the <b>fundamental law of active management</b>—connects IR to two attributes:</p>
          
          <h4>1. Breadth (BR):</h4>
          <p>Number of <i>independent</i> investment decisions (forecasts of exceptional return) made per year.</p>
          
          <h4>2. Information coefficient (IC):</h4>
          <p>Manager's <b>skill</b>, i.e., the correlation between each forecast and the actual outcome (assumed the same for all forecasts).</p>
          
          <p><strong>Law (approximate):</strong></p>
          <p>\[
          IR \;=\; IC \cdot \sqrt{BR}
          \]</p>
          
          <p>To raise \(IR\) from \(0.5\) to \(1.0\), you must <b>double skill</b> (\(IC\)) or <b>quadruple breadth</b> (\(BR\)) (or combine both).</p>
          
          <p><strong>Why "Approximate"?</strong><br>
          The approximation ignores the risk-reduction benefit of forecasts, which is extremely small for low IC (e.g., \(IC<0.1\)).</p>
        </div>
      </details>
      
      <details class="dropdown-block">
        <summary>Link to desired aggressiveness (residual risk)</summary>
        <div class="content">
          <p>Recall there is a relationship between residual risk and the information ratio. Using the fundamental law yields</p>
          <p>\[
          \omega^{*} \;=\; \frac{IR}{2\lambda_{R}} \;=\; \frac{IC \cdot \sqrt{BR}}{2\lambda_{R}}
          \]</p>
          
          <p>where \(\omega^{*}\) is the <strong>desired level of aggressiveness</strong> (optimal residual risk) and \(\lambda_{R}\) is the <strong>risk-aversion to residual (active) risk</strong>. Thus aggressiveness rises <strong>linearly</strong> with skill and with the <strong>square root</strong> of breadth.</p>
        </div>
      </details>
      
      <details class="dropdown-block">
        <summary>Value added (risk-adjusted)</summary>
        <div class="content">
          <p>Expressing value added in terms of skill and breadth gives</p>
          <p>\[
          VA^{*} \;=\; \frac{IR^{2}}{4\lambda_{R}} \;=\; \frac{IC^{2}\cdot BR}{4\lambda_{R}}
          \]</p>
          
          <p>Hence, risk-adjusted value added increases <strong>linearly</strong> with breadth and with the <strong>square</strong> of skill.</p>
        </div>
      </details>
      
      <details class="dropdown-block">
        <summary>Purpose and caveats</summary>
        <div class="content">
          <p>The law provides insight and back-of-envelope trade-offs between increasing breadth (e.g., covering more names or shortening forecast horizons—provided independence holds) and improving skill \(IC\). It is <strong>not</strong> an operational recipe. Estimating true breadth is difficult because forecasts must be <strong>independent</strong>.</p>
        </div>
      </details>
      
      <details class="dropdown-block">
        <summary>En Ingles</summary>
        <div class="content">
          <ul>
            <li><strong>IR is the output; IC and BR are the inputs.</strong> If you can <i>either</i> make more <strong>independent</strong> bets (raise \(BR\)) <i>or</i> make each bet more accurate (raise \(IC\)), IR improves as \(IC\sqrt{BR}\).</li>
            <li><strong>Optimal aggressiveness</strong> (how much active risk to run) scales with IR and is throttled by your <strong>residual-risk aversion</strong> \(\lambda_R\).</li>
            <li><strong>Value added</strong> at the optimum scales <strong>linearly</strong> in \(BR\) and <strong>quadratically</strong> in \(IC\), so marginal gains in skill are especially powerful.</li>
            <li><strong>Quality over Quantity</strong>
              <ul>
                <li>The independence qualifier on breadth is critical: simply "doing more" doesn't count unless the additional forecasts add <i>independent</i> information.</li>
              </ul>
            </li>
          </ul>
        </div>
      </details>
    </div>
  </details>
</div>

<div class="flashcard">
  <details>
    <summary>3 Examples, all about gambling, but the last two you get paid to do.</summary>
    <div class="back">
      <details class="dropdown-block">
        <summary>1) Gambling (<span class="define">European/American roulette
          <div class="tooltip">
            <div style="max-width: 380px">
              <h4>For all you soon-to-be gambling addicts out there:</h4>
              <ul>
                <li><b>Game:</b> European roulette</li>
                <li><b>Goal:</b> Bet where the ball will land after the wheel spins.</li>
              </ul>
              <p><b>How to play:</b></p>
              <ol>
                <li>Buy chips.</li>
                <li>Place your bet(s) on the layout before "no more bets." Easiest is <b>red</b> or <b>black</b> (even-money, pays 1:1).</li>
                <li>Dealer spins the wheel and drops the ball.</li>
                <li>If it lands on your color/number, get shmoney; otherwise you lose your stake. On <b>red/black</b>, a landing on <b>green 0</b> loses—this is the <i>house edge</i> (≈1/37 ≈ 2.7%).</li>
              </ol>
              <p>(American roulette has two greens, 0 and 00 → 38 slots → ≈5.26% edge.)</p>
            </div>
          </div>
        </span>) and the fundamental law</summary>
        <div class="content">
          <ul>
            <li>Wheel has 18 red, 18 black, 1 green (37 total). The green spot is the casino's edge.</li>
            <li>For a \$1 bet, the casino's expected percentage return per bet is
              \[
              \frac{19}{37}\cdot 100\% \;+\; \frac{18}{37}\cdot (-100\%) \;=\; 2.7027\%.
              \]
            </li>
            <li>The standard deviation on a single bet is <span class="define">99.9634%
              <div class="tooltip">
                <div style="max-width: 380px">
                  <p><b>Single-bet variance in European roulette</b></p>
                  <p>\[
                  \text{Var} \;=\; \frac{19}{37}\,\Bigl(100\% - \frac{100\%}{37}\Bigr)^{2} \;+\; \frac{18}{37}\,\Bigl(-100\% - \frac{100\%}{37}\Bigr)^{2} \;=\; 9992.696\%^{2}
                  \]</p>
                  <p>\[
                  \sigma \;=\; 99.9634\%
                  \]</p>
                </div>
              </div>
            </span> [see Footnote 1].</li>
            <li>With one \$1 bet per year, the information ratio is $0.027038/99.9634$. Interpreting skill as $IC=1/37$ and breadth as $BR=1$, the fundamental law predicts $IR=(1/37)\cdot\sqrt{1}=0.027027$, which is close.</li>
            <li>With <b>breadth</b> $BR=1{,}000{,}000$ bets/year, expected return per bet is still $2.7027\%$ but the standard deviation drops to $0.09996\%$. The information ratio becomes $27.038$. The formula predicts $(1/37)\cdot\sqrt{1{,}000{,}000}=27.027$.</li>
            <li>If a second green spot is added (advantage $2/38$), expected return per bet is $5.263\%$. With $1{,}000{,}000$ bets/year, the standard deviation becomes $0.09986\%$, the information ratio is $52.70$, and the formula with $IC=2/38$, $BR=1{,}000{,}000$ predicts $52.63$.</li>
          </ul>
          
          <p><strong>Shaken not Stirred:</strong> A tiny edge ($IC$) compounded over many <b>independent</b> bets ($BR$) yields a large $IR$.</p>
        </div>
      </details>

      <details class="dropdown-block">
        <summary>2) Forecasting semiannual residual returns on 200 stocks</summary>
        <div class="content">
          <h4>Assumptions</h4>
          <ul>
            <li>Residual returns are independent across stocks.</li>
            <li>Residual returns have expected value $0$.</li>
            <li>Semiannual residual standard deviation is $17.32\%$ (which is $24.49\%$ annualized).</li>
          </ul>

          <h4>Decomposition and information</h4>
          <ul>
            <li>For stock $n$, residual return $\theta_n$ is modeled as a sum of 300 independent terms:
              \[
              \theta_n \;=\; \sum_i \theta_{n i}
              \tag{6.4}
              \]
              where each $\theta_{n j}\in\{+1.00\%,-1.00\%\}$ with mean $0$ and standard deviation $1.00\%$. Hence the standard deviation of the sum is $\sqrt{300}=17.32\%$.</li>
            <li>The forecasting procedure reveals $\theta_{n,1}$ but leaves $\theta_{n,2},\dots,\theta_{n,300}$ unknown.</li>
            <li>The correlation $\operatorname{corr}(\theta_{n,1},\theta_n)=0.0577$</li>
          </ul>
          <p>(Intuition: there are 300 equally important pieces; knowing 1 of them gives a small correlation.)</p>

          <h4>Breadth and predicted IR</h4>
          <ul>
            <li>Following 200 stocks gives 200 pieces of information <b>twice a year</b> $\Rightarrow BR=400$ per year.</li>
            <li>Fundamental law prediction:
              \[
              IR \approx 0.0577 \cdot \sqrt{400} \;=\; 1.154 .
              \]</li>
          </ul>

          <h4>A simple portfolio to exploit the signal</h4>
          <ul>
            <li>Benchmark: equal-weighted across 200 stocks.</li>
            <li>Each 6-month period: expect ~100 stocks with forecasted residual $+1.00\%$ and 100 with forecasted residual $-1.00\%$.</li>
          </ul>
          <p><b>Strategy:</b> long–short portfolio with symmetric active holdings:</p>
          <p><b>Active weights</b></p>
          <p>\[
          w_i \;=\; +\tfrac{1}{200} \ \text{for 100 buy names}
          \quad\text{and}\quad
          w_i \;=\; -\tfrac{1}{200} \ \text{for 100 sell names}
          \]</p>
          <p><b>Expected active return per 6 months</b></p>
          <p>\[
          \mathbb{E}[r_{\text{active}}]
          \;=\;
          100\cdot \tfrac{1}{200}\cdot 1\%
          \;+\;
          100\cdot \bigl(-\tfrac{1}{200}\bigr)\cdot (-1\%)
          \;=\;
          1\%
          \]</p>
          <p><b>Active risk per 6 months</b></p>
          <p>Conditional on knowing $\theta_{n,1}$, each stock's residual variance is $299$ and stocks are independent. Thus</p>
          <p>\[
          \sigma_{\text{active}}^{2}
          \;=\;
          \sum_{i=1}^{200} w_i^{2}\cdot 299
          \;=\;
          200\cdot \Bigl(\tfrac{1}{200}\Bigr)^{2}\cdot 299
          \;=\;
          \frac{299}{200}
          \]</p>
          <p>\[
          \sigma_{6\text{m}}
          \;=\;
          \sqrt{\frac{299}{200}}
          \;=\;
          1.2227\%
          \]</p>
          <p><b>IR per 6 months</b></p>
          <p>\[
          IR_{6\text{m}}
          \;=\;
          \frac{\mathbb{E}[r_{\text{active}}]}{\sigma_{6\text{m}}}
          \;=\;
          \frac{1.00\%}{1.2227\%}
          \;=\;
          0.8179
          \]</p>

          <h4>Realized attributes (6-month horizon)</h4>
          <ul>
            <li>Expected <b>active</b> return: $1.00\%$ per 6 months.</li>
            <li>Active standard deviation: $1.2227\%$ per 6 months.</li>
            <li>6-month information ratio: $0.8179$.</li>
            <li>Annual information ratio (multiply by $\sqrt{2}$):
              \[
              \sqrt{2}\cdot 0.8179 \;=\; 1.1566,
              \]
              slightly above the $1.154$ predicted by the law because the formula ignores the slight reduction in uncertainty from knowing $\theta_{n,1}$.</li>
          </ul>

          <p><b>Yeah, but trading costs?</b></p>
          <p><b>FLAM works (without the fees)</b> Modeling <b>skill</b> as a small correlation to the latent residual and scaling via realistic breadth matches the law; modest frictions can materially reduce realized $IR$.</p>
        </div>
      </details>
    </div>
  </details>
</div>
